# Тестовое задание 

### ТЗ:

Есть папка https://disk.yandex.ru/d/V47MEP5hZ3U1kg.
Требуется написать код который по запросу из списка папок, собирает картинки из папок в один tiff файл.

Предпочтительно выполнение на Python. Можно использовать любые библиотеки и ресурсы.

Пример.
На входе список: ['1388_12_Наклейки 3-D_3']
На выходе файл: Result.tif

Пример файла по ссылке: 
https://www.dropbox.com/scl/fo/7w3o1r2ll1vc4jfpdmolj/h?dl=0&e=1&rlkey=u1kico8nr998p0mr0owfzxi80


ВАЖНО! Задание нужно отправить с ссылкой на репозиторий.
Обязательно при отправке тестового нужно указать сколько времени потратили на выполнение задания.
Желаем удачи!

<hr>

### Установка 

- клонировать репозиторий и перейти в него папку:
    ```
    git clone https://github.com/OneHandedPirate/Picture_combine.git
    cd Picture_combine 
    ```
- если вы используете **poetry**:<br>
    - установить зависимости:<br>
        ```poetry install```
    - войдите в созданное виртуальное окружение:<br>
        ```poetry shell```
- если вы используете **virtualenv**:
    - создайте вирутальное окружение :<br>
        ```virtualenv venv```
    - войдите в него и установите зависимости:
        ```
        source venv/bin/activate
        pip install -r requirements.rxr      
        ```
<hr>

### Запуск
Запустите любой из модулей **picture_combine** и следуйте инструкциям в командной строке.
<hr>

### Структура проекта:

- **config.py** - переменные, влияющие на результирующий файл:<br>
  
  - MARGIN - расстояние между картинками (по умолчанию 50).
  - IMAGE_PER_ROW - картинок в ряду (по умолчанию 4).
  - RESIZE_RATE - степень уменьшения (по умолчанию 0.25).
- **picture_combine.py** - синхронная реализация.
- **picture_combine_async.py** - асинхронная реализация.
- **picture_combine_async_with_processor_pool.py** - асинхронная реализация с использованием пула процессов (самая быстрая)

**Примечание**: т.к. обработка изображений это CPU-bound задача, то чисто асинхронная реализация тут не очень подходит, в некоторых случаях она даже проигрывает синхронной засчет дополнительных накладных расходов. Асинхронная реализация с использованием пула процессов в среднем в ~2 быстрее, чем синхронная и асинхронная.
